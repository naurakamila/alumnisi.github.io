!function i(r,d,o){function s(t,e){if(!d[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=d[t]={exports:{}},r[t][0].call(n.exports,function(e){return s(r[t][1][e]||e)},n,n.exports,i,r,d,o)}return d[t].exports}for(var a="function"==typeof require&&require,e=0;e<o.length;e++)s(o[e]);return s}({1:[function(e,t,r){!function(e){!function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n="undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null,i="undefined"!=typeof window?window.peepsodata:void 0!==e?e.peepsodata:null;r.default={sendRequest:function(t){var e={uid:i.currentuserid,user_id:t};return n.ajax.post("friendsajax.send_request",e).then(e=>{e.success?n.hooks.doAction("friend_request_sent",t,e.data):e.errors&&alert(e.errors)})},cancelRequest:function(t,e){return e={uid:i.currentuserid,user_id:t,request_id:e,action:"cancel"},n.ajax.post("friendsajax.cancel_request",e).then(e=>{e.success?n.hooks.doAction("friend_request_canceled",t,e.data):e.errors&&alert(e.errors)})},acceptRequest:function(t,e){return e={uid:i.currentuserid,user_id:t,request_id:e},n.ajax.post("friendsajax.accept_request",e).then(e=>{e.success?n.hooks.doAction("friend_request_accepted",t,e.data):e.errors&&alert(e.errors)})},rejectRequest:function(t,e){return e={uid:i.currentuserid,user_id:t,request_id:e,action:"ignore"},n.ajax.post("friendsajax.cancel_request",e).then(e=>{e.success?n.hooks.doAction("friend_request_rejected",t,e.data):e.errors&&alert(e.errors)})},remove:function(t){var e={uid:i.currentuserid,user_id:t};return n.ajax.post("friendsajax.remove_friend",e).then(e=>{e.success?n.hooks.doAction("friend_removed",t,e.data):e.errors&&alert(e.errors)})}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";e("./page-profile"),e("./page-members"),e("./notifications")},{"./notifications":3,"./page-members":4,"./page-profile":5}],3:[function(r,e,t){!function(i){!function(){"use strict";var d=n("undefined"!=typeof window?window.jQuery:void 0!==i?i.jQuery:null),t="undefined"!=typeof window?window.peepso:void 0!==i?i.peepso:null,e="undefined"!=typeof window?window.peepsodata:void 0!==i?i.peepsodata:null,o=n(r("./friends"));function n(e){return e&&e.__esModule?e:{default:e}}const s=e.friends&&e.friends.friend_requests_page,a=e.friends&&e.friends.template_notification_header;(0,d.default)(function(){let i=(0,d.default)(".ps-js-friends-notification"),r=i.find(".ps-js-counter");function e(e){var t=r.eq(0).html().trim();r.html(t-1),0<t-1?r.show():r.hide();let n=i.find(".ps-js-notification").filter(`[data-user-id="${e}"]`).parent();n.length&&n.fadeOut()}i.psnotification&&i.psnotification({source:"friendsajax.get_requests",view_all_link:s,header:a}),i.on("click",".ps-js-friend-accept-request",e=>{let t=(0,d.default)(e.currentTarget),n=t.data("user-id"),i=t.data("request-id");o.default.acceptRequest(n,i)}),i.on("click",".ps-js-friend-reject-request",e=>{let t=(0,d.default)(e.currentTarget),n=t.data("user-id"),i=t.data("request-id");o.default.rejectRequest(n,i)}),t.hooks.addAction("friend_request_accepted","friend_notification",e),t.hooks.addAction("friend_request_rejected","friend_notification",e)})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./friends":1}],4:[function(i,e,t){!function(n){!function(){"use strict";var d=t("undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null),o="undefined"!=typeof window?window.peepso:void 0!==n?n.peepso:null,e="undefined"!=typeof window?window.peepsodata:void 0!==n?n.peepsodata:null,s=t(i("./friends"));function t(e){return e&&e.__esModule?e:{default:e}}const a=e.friends&&e.friends.template_remove_friend;(0,d.default)(function(){let r=(0,d.default)(".ps-js-members");function e(e,t={}){let n=r.find(".ps-js-member").filter(`[data-user-id="${e}"]`),i=t.actions;n.length&&(r.hasClass("ps-js-friend-requests")?n.fadeOut().remove():"string"==typeof i?n.find(".ps-js-member-actions-extra").html(t.actions):"object"==typeof i&&(i.primary&&n.find(".ps-js-member-actions").replaceWith(i.primary),i.secondary&&n.find(".ps-js-member-actions-extra").replaceWith(i.secondary),i.dropdown&&n.find(".ps-js-dropdown").replaceWith(i.dropdown)))}r=r.add((0,d.default)(".ps-js-friends, .ps-js-friend-requests")),r.length&&(r.on("click",".ps-js-friend-send-request",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("img"),i=t.data("user-id");e.preventDefault(),e.stopPropagation(),n.show(),s.default.sendRequest(i).then(function(){n.hide()})}),r.on("click",".ps-js-friend-cancel-request",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("img"),i=t.data("user-id"),r=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),s.default.cancelRequest(i,r).then(function(){n.hide()})}),r.on("click",".ps-js-friend-accept-request",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("img"),i=t.data("user-id"),r=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),s.default.acceptRequest(i,r).then(function(){n.hide()})}),r.on("click",".ps-js-friend-reject-request",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("img"),i=t.data("user-id"),r=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),s.default.rejectRequest(i,r).then(function(){n.hide()})}),r.on("click",".ps-js-friend-remove",function(e){let t=(0,o.dialog)(a).show(),n=(0,d.default)(e.currentTarget),i=n.find("img"),r=n.data("user-id");e.preventDefault(),e.stopPropagation(),t.$el.on("click",".ps-js-cancel",()=>t.hide()),t.$el.on("click",".ps-js-submit",()=>{t.hide(),i.show(),s.default.remove(r).then(function(){i.hide()})})}),r.on("mouseenter",".ps-js-friend-remove",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("span").last();n.data("html",n.html()),n.html(t.data("text-unfriend"))}),r.on("mouseleave",".ps-js-friend-remove",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("span").last();n.html(n.data("html"))}),o.hooks.addAction("friend_request_sent","page_members",e),o.hooks.addAction("friend_request_canceled","page_members",e),o.hooks.addAction("friend_request_accepted","page_members",e),o.hooks.addAction("friend_request_rejected","page_members",e),o.hooks.addAction("friend_removed","page_members",e))})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./friends":1}],5:[function(r,e,t){!function(n){!function(){"use strict";var d=t("undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null),o="undefined"!=typeof window?window.peepso:void 0!==n?n.peepso:null,e="undefined"!=typeof window?window.peepsodata:void 0!==n?n.peepsodata:null,s=t(r("./friends"));function t(e){return e&&e.__esModule?e:{default:e}}const i=e.profile&&+e.profile.id,a=e.friends&&e.friends.template_remove_friend;(0,d.default)(function(){let n=(0,d.default)(".ps-js-focus--profile");function e(e,t={}){+e===i&&("string"==typeof(t=t.actions)?n.find(".ps-js-profile-actions-extra").html(t):"object"==typeof t&&(t.primary_profile&&n.find(".ps-js-focus-actions").html(t.primary_profile),t.secondary_profile&&n.find(".ps-js-profile-actions-extra").html(t.secondary_profile)))}n.length&&(n.on("click",".ps-js-friend-send-request",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("img"),i=t.data("user-id");e.preventDefault(),e.stopPropagation(),n.show(),s.default.sendRequest(i).then(function(){n.hide()})}),n.on("click",".ps-js-friend-cancel-request",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("img"),i=t.data("user-id"),r=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),s.default.cancelRequest(i,r).then(function(){n.hide()})}),n.on("click",".ps-js-friend-accept-request",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("img"),i=t.data("user-id"),r=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),s.default.acceptRequest(i,r).then(function(){n.hide()})}),n.on("click",".ps-js-friend-reject-request",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("img"),i=t.data("user-id"),r=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),s.default.rejectRequest(i,r).then(function(){n.hide()})}),n.on("click",".ps-js-friend-remove",function(e){let t=(0,o.dialog)(a).show(),n=(0,d.default)(e.currentTarget),i=n.find("img"),r=n.data("user-id");e.preventDefault(),e.stopPropagation(),t.$el.on("click",".ps-js-cancel",()=>t.hide()),t.$el.on("click",".ps-js-submit",()=>{t.hide(),i.show(),s.default.remove(r).then(function(){i.hide()})})}),n.on("mouseenter",".ps-js-friend-remove",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("span").last();n.data("html",n.html()),n.html(t.data("text-unfriend"))}),n.on("mouseleave",".ps-js-friend-remove",function(e){let t=(0,d.default)(e.currentTarget),n=t.find("span").last();n.html(n.data("html"))}),o.hooks.addAction("friend_request_sent","page_profile",e),o.hooks.addAction("friend_request_canceled","page_profile",e),o.hooks.addAction("friend_request_accepted","page_profile",e),o.hooks.addAction("friend_request_rejected","page_profile",e),o.hooks.addAction("friend_removed","page_profile",e))})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./friends":1}]},{},[2]);